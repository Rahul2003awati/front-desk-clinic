<!doctype html><html><head><meta charset='utf-8'><title>Queue</title><style>body{font-family:Arial;background:#f8fafc}.container{max-width:700px;margin:24px auto;padding:0 16px}.card{background:#fff;padding:16px;border-radius:8px;margin-bottom:16px} input,select{width:100%;padding:8px;margin:8px 0}</style></head><body><div class='container'><h2>Queue Management</h2><div class='card'><input id='pname' placeholder='Patient name'/><input id='pphone' placeholder='Phone'/><select id='pdoctor'><option value="">Any Doctor</option></select><button id='add'>Add to queue</button></div><div class='card'><h3>Current Queue</h3><ul id='qlist'></ul></div></div><script>const API='http://localhost:3001';const token=localStorage.getItem('token');if(!token) location.href='index.html';async function load(){const d=await (await fetch(API+'/doctors',{headers:{Authorization:'Bearer '+token}})).json();const q=await (await fetch(API+'/queue',{headers:{Authorization:'Bearer '+token}})).json();const sel=document.getElementById('pdoctor');sel.innerHTML='<option value="">Any Doctor</option>'+(Array.isArray(d)?d.map(x=>`<option value="${x.id}">${x.name}</option>`).join(''): '');document.getElementById('qlist').innerHTML=(Array.isArray(q)?q.map(x=>`<li>#${x.queueNumber} — ${x.patient?.name||'Unknown'} — ${x.status}</li>`).join('') : '<li>No patients</li>'); } document.getElementById('add').onclick=async()=>{const name=document.getElementById('pname').value;const phone=document.getElementById('pphone').value;const doctorId=document.getElementById('pdoctor').value||undefined;await fetch(API+'/queue',{method:'POST',headers:{'Content-Type':'application/json',Authorization:'Bearer '+token},body:JSON.stringify({patient:{name,phone},doctorId})});load();};load();</script></body></html>